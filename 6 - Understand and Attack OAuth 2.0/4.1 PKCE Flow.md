
## **PKCE Flow Simplified**

1. **App generates a random `code_verifier`** (e.g., a long string).
    
2. It **hashes** that `code_verifier` to create the `code_challenge`.
    
3. It **starts the OAuth flow** by sending the user to the Authorization Server, and includes the `code_challenge`:
    

4. `/authorize?code_challenge=HASHED_VERIFIER&code_challenge_method=S256`
    

---

4. **User logs in and consents**.
    
5. The Authorization Server sends back the **authorization code**.
    

---

6. Now, to get the **access token**, the app sends:
    
    - The **authorization code**
        
    - The **original `code_verifier`** (not the hashed one)
        

---

7. The Authorization Server then:
    
    - Hashes the submitted `code_verifier`
        
    - Compares it to the `code_challenge` it saw earlier in step 3
        

If they match: ✅ **access token granted**  
If they don’t match: ❌ **access denied**